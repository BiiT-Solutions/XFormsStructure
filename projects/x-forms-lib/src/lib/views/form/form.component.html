<div class="form-view" *ngIf="!submitted">
  <div>
    <div class="category-title">CATEGORIES</div>
    <div>
      <div class="category" *ngFor="let iCategory of form.children" [class.display-none]="iCategory.hidden || !iCategory.display" [class.selected]="iCategory.pathName === category.pathName">
        <div *ngIf="!iCategory.hidden && iCategory.display" (click)="onCategory(iCategory)"
             [class.disabled]="iCategory.disabled">{{iCategory.label}}</div>
      </div>
    </div>
    </div>

  <div>
    <biit-category *ngIf="category" [form]="form" [category]="category" (changed)="onFormChanged()" (completed)="onCategoryCompleted($event)" ></biit-category>
    <div class="buttons" *ngIf="category" >
      <button biit-button secondary
              (click)="onPrevious()"
              [disabled]="!previousCategory">Previous</button>
      <button biit-button primary
              *ngIf="nextCategory"
              (click)="onNext()"
              [disabled]="nextCategory?.disabled || !category.completed">Next</button>
      <button biit-button primary
              *ngIf="!nextCategory"
              (click)="onSubmit()"
              [disabled]="!(form | checkAnswers)">Submit</button>
    </div>
  </div>
</div>
<biit-submitted *ngIf="submitted" (onReturn)="closed.emit()"></biit-submitted>
