<div class="form-view" *ngIf="!submitted">
  <div class="categories" [class.hidden-menu]="hiddenMenu">
    <div style="display: flex; gap: 1rem">
      <div class="category-title" [class.hidden]="hiddenMenu">CATEGORIES</div>
      <div class="category-title-button" [class.hidden-menu]="hiddenMenu"
           (click)="hiddenMenu=!hiddenMenu" style="height: 1rem">
        <biit-icon [name]="hiddenMenu ? 'column_selection' : 'cross_wide'"></biit-icon>
      </div>
    </div>
    <div [class.hidden]="hiddenMenu">
      <div class="category" *ngFor="let iCategory of form.children" [class.display-none]="iCategory.hidden || !iCategory.display" [class.selected]="iCategory.pathName === category.pathName">
        <div *ngIf="!iCategory.hidden && iCategory.display" (click)="onCategory(iCategory)"
             [class.disabled]="iCategory.disabled">{{iCategory.label}}</div>
      </div>
    </div>
    </div>

  <div (click)="hiddenMenu = true">
    <div>
      <biit-category *ngIf="category" [form]="form" [category]="category" (changed)="onFormChanged()" (completed)="onCategoryCompleted($event)" />
      <div class="buttons" *ngIf="category" >
        <button biit-button secondary
                (click)="onPrevious()"
                [disabled]="!previousCategory">Previous</button>
        <button biit-button primary
                *ngIf="nextCategory"
                (click)="onNext()"
                [disabled]="nextCategory?.disabled || !category.completed">Next</button>
        <button biit-button primary
                *ngIf="!nextCategory"
                (click)="onSubmit()"
                [disabled]="!(form | checkAnswers)">Submit</button>
      </div>
    </div>
  </div>
</div>
<biit-submitted *ngIf="submitted" (onReturn)="reload()"></biit-submitted>
