<div class="form-view">
  <div>
    <div class="category" *ngFor="let category of form.children">
      <div *ngIf="!category.hidden && category.display" (click)="onCategory(category)"
           [class.disabled]="category.disabled">{{category.label}}</div>
    </div>
    </div>

  <div>
    <biit-category *ngIf="category" [form]="form" [category]="category" (changed)="onFormChanged()" (completed)="onCategoryCompleted($event)" ></biit-category>
    <div class="buttons" *ngIf="category" >
      <button biit-button secondary
              (click)="onPrevious()"
              [disabled]="!previousCategory">Previous</button>
      <button biit-button primary
              *ngIf="nextCategory"
              (click)="onNext()"
              [disabled]="nextCategory?.disabled || !category.completed">Next</button>
      <button biit-button primary
              *ngIf="!nextCategory"
              (click)="onNext()"
              [disabled]="!(form | checkAnswers)">Submit</button>
    </div>
  </div>
</div>
